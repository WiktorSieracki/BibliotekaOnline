<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Lista Książek</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Language" content="pl" />
  </head>
  <body>
    <div th:replace="~{fragments :: header}"></div>

    <ul>
      <li th:each="book : ${books}">
        <p th:text="${book.title}"></p>
      </li>
    </ul>

    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
          <a
            class="page-link"
            th:href="@{/books(page=${currentPage - 1}, size=${size})}"
            aria-label="Previous"
          >
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li
          class="page-item"
          th:each="i : ${#numbers.sequence(currentPage - 2 > 0 ? currentPage - 2 : 0, currentPage + 2 < totalPages - 1 ? currentPage + 2 : totalPages - 1)}"
          th:classappend="${i == currentPage} ? 'active'"
        >
          <a
            class="page-link"
            th:href="@{/books(page=${i}, size=${size})}"
            th:text="${i + 1}"
            >1</a
          >
        </li>
        <li
          class="page-item"
          th:classappend="${currentPage + 1 == totalPages} ? 'disabled'"
        >
          <a
            class="page-link"
            th:href="@{/books(page=${currentPage + 1}, size=${size})}"
            aria-label="Next"
          >
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>

    <div th:replace="~{fragments :: footer}"></div>
  </body>
</html>
